"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var styledComponents=require("styled-components"),NeatTheme={color:null,columns:12,direction:"ltr",gutter:"20px",media:null},Neat=function(){var theme=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NeatTheme;return{color:theme.color||NeatTheme.color,columns:theme.columns||NeatTheme.columns,direction:"ltr"===theme.direction||"rtl"===theme.direction?theme.direction:NeatTheme.direction,gutter:theme.gutter||NeatTheme.gutter,media:theme.media||NeatTheme.media}},parseUnit=function(value){var parsedValue=parseFloat(value);if(parsedValue){var splitValue=value.split(parsedValue.toString(10));return splitValue[splitValue.length-1].trim()}return""},stripUnit=function(value){var unitlessValue=parseFloat(value);return isNaN(unitlessValue)?value:unitlessValue},columnWidth=function(theme,span){var columns=theme.columns,gutter=theme.gutter;if(!columns||void 0===gutter)return"0";var ratio=span/columns,gutterValue=stripUnit(gutter),gutterUnit=parseUnit(gutter);return 0===gutterValue?100*ratio+"%":100*ratio+"% - "+(""+(gutterValue+gutterValue*ratio)+gutterUnit)},floatDirection=function(){return"rtl"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr")?"right":"left"},floatOppositeDirection=function(){var direction=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr";return"ltr"===direction?"right":"rtl"===direction?"left":void 0},parseMedia=function(media){return"number"==typeof media?"only screen and (min-width: "+media+"px)":"string"==typeof media&&media},defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},taggedTemplateLiteral=function(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))},gridCollapse=function(theme){var _ref,direction=theme.direction,gutter=theme.gutter;if(!direction||!gutter)return{};var gutterUnit=parseUnit(gutter);if("%"===gutterUnit)return{};var gutterValue=stripUnit(gutter);return defineProperty(_ref={},"margin-"+floatDirection(direction),"-"+gutter),defineProperty(_ref,"margin-"+floatOppositeDirection(direction),"-"+gutter),defineProperty(_ref,"width","calc(100% + "+2*gutterValue+gutterUnit+")"),_ref},gridColumn=function(theme,span){var columns=theme.columns,direction=theme.direction,gutter=theme.gutter;return(span=Math.floor(span))>columns&&(span=columns),defineProperty({width:"calc("+columnWidth(theme,span)+")",float:""+floatDirection(direction)},"margin-"+floatDirection(direction),gutter)},gridContainer=function(){var parent=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"&";return defineProperty({},parent+"::after",{clear:"both",content:"",display:"block"})},_templateObject=taggedTemplateLiteral(["\n    @media "," {\n      ","\n    }\n  "],["\n    @media "," {\n      ","\n    }\n  "]),gridMedia=function(theme){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var media=theme.media;return media?styledComponents.css(_templateObject,parseMedia(media),styledComponents.css.apply(void 0,args)):[]},gridPush=function(theme){var push=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,direction=theme.direction,gutter=theme.gutter;if(push>0){var affordance=""+2*stripUnit(gutter)+parseUnit(gutter);return defineProperty({},"margin-"+floatDirection(direction),"\n        calc("+columnWidth(theme,push)+" + "+affordance+")\n      ")}return defineProperty({},"margin-"+floatDirection(direction),gutter)},gridShift=function(theme){var shift=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,direction=theme.direction,gutter=theme.gutter;if(!direction||void 0===gutter)return{};if(shift>0){var _ref,width=columnWidth(theme,shift);return defineProperty(_ref={},""+floatDirection(direction),"\n        calc("+width+" + "+gutter+")\n      "),defineProperty(_ref,"position","relative"),_ref}return defineProperty({},""+floatDirection(direction),gutter)},gridVisual=function(theme){var color=theme.color,gutter=theme.gutter;return gutter?{"background-image":"\n      repeating-linear-gradient(\n        to right, transparent, transparent,\n        "+(color=color||"")+" "+gutter+",\n        "+color+" calc("+columnWidth(theme,1)+" + "+gutter+")\n      )\n    "}:{}};exports.default=Neat,exports.gridCollapse=gridCollapse,exports.gridColumn=gridColumn,exports.gridContainer=gridContainer,exports.gridMedia=gridMedia,exports.gridPush=gridPush,exports.gridShift=gridShift,exports.gridVisual=gridVisual;
